<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GApps Hub | Pratyush</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        :root {
            --bg: #fdf8f5; 
            --surface: rgba(255, 255, 255, 0.4); 
            --text: #1f2328;
            --accent: #2196f3; 
            --accent-glow: rgba(33, 150, 243, 0.1);
            --border: rgba(0, 0, 0, 0.1); 
            --m3-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
            --m3-ease: cubic-bezier(0.2, 0, 0, 1);
        }
        body.dark-mode {
            --bg: #0d1117; 
            --surface: rgba(22, 27, 34, 0.4); 
            --text: #e6edf3;
            --border: rgba(255, 255, 255, 0.1); 
            --accent-glow: rgba(33, 150, 243, 0.25);
        }
        body {
            background-color: var(--bg); 
            color: var(--text);
            font-family: 'Segoe UI', system-ui, sans-serif; 
            margin: 0;
            transition: background 0.6s var(--m3-ease), color 0.4s; 
            display: flex;
            flex-direction: column; 
            align-items: center; 
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ANIMATED BACKGROUND BLOB */
        .m3-blob {
            position: fixed; 
            width: 600px; 
            height: 600px;
            background: linear-gradient(135deg, var(--accent), #f4d03f);
            filter: blur(100px); 
            opacity: 0.15; 
            z-index: -1;
            animation: morph 25s infinite alternate ease-in-out;
            pointer-events: none;
        }
        @keyframes morph { 
            0% { border-radius: 40% 60% 60% 40%; transform: translate(-15%, -15%) rotate(0deg); } 
            50% { border-radius: 70% 30% 50% 50%; transform: translate(30vw, 15vh) rotate(90deg); }
            100% { border-radius: 30% 70% 30% 70%; transform: translate(60vw, -10vh) rotate(180deg); } 
        }

        /* NAVIGATION HEADER */
        header.top-bar {
            width: 100%;
            padding: 18px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 3000;
            box-sizing: border-box;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
        }
        body.dark-mode header.top-bar { background: rgba(22,27,34,0.2); }

        .back-nav {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: var(--text);
            font-weight: 800;
            gap: 10px;
            padding: 8px 15px;
            border-radius: 12px;
            background: var(--surface);
            border: 1px solid var(--border);
            transition: 0.3s;
        }
        .back-nav:hover { transform: translateX(-5px); border-color: var(--accent); }

        .hamburger {
            display: flex;
            flex-direction: column;
            gap: 7px;
            cursor: pointer;
            z-index: 3001;
            padding: 5px;
        }
        .hamburger span {
            display: block;
            height: 3.5px;
            width: 28px;
            background-color: var(--accent);
            border-radius: 10px;
            transition: 0.4s var(--m3-bounce);
        }
        .hamburger.active span:nth-child(1) { transform: translateY(10.5px) rotate(45deg); }
        .hamburger.active span:nth-child(2) { opacity: 0; transform: scaleX(0); }
        .hamburger.active span:nth-child(3) { transform: translateY(-10.5px) rotate(-45deg); }

        /* MENU AND THEME SWITCHER */
        .nav-menu {
            position: fixed;
            top: 85px;
            right: 25px;
            width: 290px;
            background: var(--surface);
            backdrop-filter: blur(35px);
            border: 1px solid var(--border);
            border-radius: 35px;
            padding: 25px;
            transform: translateY(-20px) scale(0.9);
            opacity: 0;
            visibility: hidden;
            transition: 0.5s var(--m3-ease);
            z-index: 2500;
            box-shadow: 0 30px 60px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .nav-menu.active { transform: translateY(0) scale(1); opacity: 1; visibility: visible; }
        
        .nav-menu a {
            color: var(--text);
            text-decoration: none;
            padding: 15px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border);
            text-align: center;
            font-weight: 600;
            transition: 0.3s var(--m3-bounce);
        }
        .nav-menu a:hover { transform: scale(1.04); border-color: var(--accent); }

        .theme-control { 
            margin-top: 5px; 
            padding: 20px; 
            background: rgba(0,0,0,0.05); 
            border-radius: 25px; 
            border: 1px solid var(--border); 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
        }
        .emoji-switch { position: relative; width: 64px; height: 34px; cursor: pointer; }
        .emoji-switch input { opacity: 0; width: 0; height: 0; }
        .slider-switch { 
            position: absolute; top: 0; left: 0; right: 0; bottom: 0; 
            background-color: var(--border); transition: 0.4s; border-radius: 34px; 
            display: flex; align-items: center; padding: 4px; 
        }
        .slider-switch:before { 
            content: "‚òÄÔ∏è"; height: 26px; width: 26px; background-color: white; 
            border-radius: 50%; display: flex; align-items: center; justify-content: center; 
            transition: 0.4s var(--m3-bounce); 
        }
        input:checked + .slider-switch { background-color: var(--accent); }
        input:checked + .slider-switch:before { content: "üåô"; transform: translateX(30px); }

        /* CONTENT AREA */
        .container { 
            width: 90%; 
            max-width: 850px; 
            margin: 120px 0 40px; 
            position: relative; 
            z-index: 1; 
        }

        .hero-section { text-align: center; margin-bottom: 50px; }
        .hero-section h1 { font-size: 3.2rem; margin: 0; font-weight: 900; letter-spacing: -1.5px; }
        
        .typewriter-cursor::after { content: "|"; animation: blink 1s infinite; margin-left: 2px; color: var(--accent); }
        @keyframes blink { 50% { opacity: 0; } }

        /* GLASS CARDS */
        .glass-card {
            background: var(--surface);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--border);
            border-radius: 36px;
            padding: 35px;
            margin-bottom: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.05);
            transition: 0.4s var(--m3-bounce);
        }

        .info-pill {
            background: rgba(33, 150, 243, 0.1);
            border: 1.5px solid var(--accent);
            border-radius: 24px;
            padding: 25px;
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 35px;
        }

        .status-badge {
            float: right;
            background: var(--accent);
            color: white;
            padding: 8px 18px;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 900;
            letter-spacing: 1px;
        }

        .changelog-window {
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 30px;
            margin: 25px 0;
            font-family: 'Consolas', monospace;
            font-size: 0.95rem;
            color: #4af626;
            line-height: 1.7;
            border: 1px solid rgba(255,255,255,0.1);
            overflow-x: auto;
            max-height: 450px;
        }
        .changelog-window h1, .changelog-window h2 { color: #fff; border-bottom: 1px solid #333; }

        .btn-stack { display: flex; flex-direction: column; gap: 15px; }
        .btn {
            padding: 20px;
            border-radius: 22px;
            text-align: center;
            text-decoration: none;
            font-weight: 800;
            font-size: 1.1rem;
            transition: 0.3s var(--m3-bounce);
            cursor: pointer;
            border: none;
        }
        .btn-main { background: var(--accent); color: #fff; box-shadow: 0 10px 30px var(--accent-glow); }
        .btn-main:hover { transform: translateY(-5px) scale(1.02); }
        
        .btn-outline { 
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--border);
            color: var(--text);
            backdrop-filter: blur(10px);
        }
        .btn-outline:hover { border-color: var(--accent); background: rgba(33, 150, 243, 0.05); }

        footer { padding: 50px; opacity: 0.5; font-size: 0.9rem; text-align: center; width: 100%; box-sizing: border-box; }
    </style>
</head>
<body class="light-mode">
    <div class="m3-blob"></div>

    <header class="top-bar">
        <a href="index.html" class="back-nav">
            <span>‚¨Ö</span> Back to Hub
        </a>
        <div class="hamburger" id="hamburger">
            <span></span><span></span><span></span>
        </div>
    </header>

    <nav class="nav-menu" id="nav-menu">
        <a href="index.html">üè† Home</a>
        <a href="slider/osr.html">üñ•Ô∏è OS Reviews</a>
        <a href="slider/content.html">üìö Library</a>
        <a href="linux.html">üêß Linux Terminal</a>
        <a href="https://github.com/sd6387400-lang" target="_blank">üåç GitHub</a>
        
        <div class="theme-control">
            <span style="font-weight:bold; font-size: 0.9rem;" id="theme-label">Light Mode</span>
            <label class="emoji-switch">
                <input type="checkbox" id="theme-toggle">
                <span class="slider-switch"></span>
            </label>
        </div>
    </nav>

    <div class="container">
        <div class="hero-section">
            <h1>GApps Hub</h1>
            <p id="type-sub" class="typewriter-cursor" style="opacity: 0.8; font-weight: 600;"></p>
        </div>

        <div class="info-pill">
            <span style="font-size: 1.8rem;">üì¶</span>
            <div style="font-size: 0.95rem; line-height: 1.5;">
                <strong>Compatibility:</strong> These NikGapps builds are universal. While optimized for Mi439, they can be flashed on any compatible device using a custom recovery.
            </div>
        </div>

        <div class="glass-card">
            <div class="status-badge" id="tag">SYNCING</div>
            <h3 style="margin:0; font-size: 1.7rem;" id="title">Fetching Latest Build...</h3>
            
            <div class="changelog-window" id="changelog">
                Establishing connection to GitHub API...
            </div>

            <div class="btn-stack">
                <a id="direct-dl" href="#" class="btn btn-main">Download Latest GApps (.zip)</a>
                <a href="https://github.com/sd6387400-lang/GAPPS-MI439/releases" target="_blank" class="btn btn-outline">Full Release History</a>
            </div>
        </div>

        <footer>
            ¬© 2026 GApps Project | Maintained by Pratyush
        </footer>
    </div>

    <script>
        const burger = document.getElementById('hamburger');
        const menu = document.getElementById('nav-menu');
        const toggle = document.getElementById('theme-toggle');

        // Hamburger & Menu Logic
        burger.onclick = (e) => {
            e.stopPropagation();
            burger.classList.toggle('active');
            menu.classList.toggle('active');
        };

        document.onclick = () => {
            burger.classList.remove('active');
            menu.classList.remove('active');
        };

        menu.onclick = (e) => e.stopPropagation();

        // Theme Switcher Logic
        toggle.onchange = () => {
            const isDark = toggle.checked;
            document.body.classList.toggle('dark-mode', isDark);
            document.getElementById('theme-label').textContent = isDark ? "Dark Mode" : "Light Mode";
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        };

        function syncTheme() {
            const savedTheme = localStorage.getItem('theme');
            if(savedTheme === 'dark') {
                toggle.checked = true;
                document.body.classList.add('dark-mode');
                document.getElementById('theme-label').textContent = "Dark Mode";
            }
        }

        // GitHub Data Logic
        async function loadGitHubRelease() {
            const changelog = document.getElementById('changelog');
            const title = document.getElementById('title');
            const tag = document.getElementById('tag');
            const dlBtn = document.getElementById('direct-dl');
            
            try {
                const res = await fetch('https://api.github.com/repos/sd6387400-lang/GAPPS-MI439/releases/latest');
                const data = await res.json();
                
                title.textContent = data.name || "Latest NikGapps Build";
                tag.textContent = data.tag_name;
                changelog.innerHTML = marked.parse(data.body);
                
                const zipAsset = data.assets.find(a => a.name.endsWith('.zip'));
                dlBtn.href = zipAsset ? zipAsset.browser_download_url : data.zipball_url;
                
            } catch (e) {
                changelog.innerHTML = "System Error: Unable to reach GitHub. Please check your network.";
            }
        }

        // Typewriter Effect
        function setupTypewriter(id, text) {
            const el = document.getElementById(id); 
            let j = 0;
            function type() { 
                if (j <= text.length) { 
                    el.textContent = text.substring(0, j++); 
                    setTimeout(type, 70); 
                } 
            }
            type();
        }

        // Initialize Everything
        window.onload = () => {
            syncTheme();
            loadGitHubRelease();
            setupTypewriter('type-sub', 'High-performance Google Apps packages for the open-source community.');
        };
    </script>
</body>
</html>
